(function(){var Meteor=Package.meteor.Meteor;var global=Package.meteor.global;var meteorEnv=Package.meteor.meteorEnv;var _=Package.underscore._;var Tracker=Package.tracker.Tracker;var Deps=Package.tracker.Deps;var ReactiveVar=Package["reactive-var"].ReactiveVar;var Accounts=Package["accounts-base"].Accounts;var meteorInstall=Package.modules.meteorInstall;var Buffer=Package.modules.Buffer;var process=Package.modules.process;var Symbol=Package["ecmascript-runtime"].Symbol;var Map=Package["ecmascript-runtime"].Map;var Set=Package["ecmascript-runtime"].Set;var meteorBabelHelpers=Package["babel-runtime"].meteorBabelHelpers;var Promise=Package.promise.Promise;var require=meteorInstall({node_modules:{meteor:{"angular-meteor-auth":{"angular-meteor-auth.js":function(require,exports,module){angular.module("angular-meteor.auth",["angular-meteor.mixer","angular-meteor.core","angular-meteor.view-model","angular-meteor.reactive"]).factory("$$Auth",function(){var Accounts=(Package["accounts-base"]||{}).Accounts;if(!Accounts)throw Error("`angular-meteor.auth` module requires `accounts-base` package, "+"please run `meteor add accounts-base` before use");var errors={required:"AUTH_REQUIRED",forbidden:"FORBIDDEN"};function $$Auth(){var vm=arguments.length<=0||arguments[0]===undefined?this:arguments[0];this.autorun(function(){vm.currentUser=Accounts.user();vm.currentUserId=Accounts.userId();vm.isLoggingIn=Accounts.loggingIn()})}$$Auth.$awaitUser=function(validate){var _this=this;validate=validate?this.$bindToContext(validate):function(){return true};if(!_.isFunction(validate))throw Error("argument 1 must be a function");var deferred=this.$$defer();var computation=Meteor.autorun(function(computation){if(_this.getReactively("isLoggingIn"))return;computation.stop();var user=_this.currentUser;if(!user)return deferred.reject(errors.required);var isValid=validate(user);if(isValid==true)return deferred.resolve(user);var error=void 0;if(_.isString(isValid)||isValid instanceof Error)error=isValid;else error=errors.forbidden;deferred.reject(error)});var promise=deferred.promise;promise.stop=computation.stop.bind(computation);return promise};$$Auth.$waitForUser=function(){return this.$awaitUser()["catch"]()};$$Auth.$requireUser=function(){return this.$awaitUser()};$$Auth.$requireValidUser=function(){return this.$awaitUser.apply(this,arguments)};return $$Auth}).service("$auth",["$rootScope","$$Auth",function($rootScope,$$Auth){var _this2=this;_.keys($$Auth).forEach(function(k){var v=$$Auth[k];var stripped=k.substr(1);_this2[stripped]=function(){return $rootScope[k].apply($rootScope,arguments)}})}]).run(["$Mixer","$$Auth",function($Mixer,$$Auth){$Mixer.mixin($$Auth)}])}}}}},{extensions:[".js",".json"]});require("./node_modules/meteor/angular-meteor-auth/angular-meteor-auth.js");if(typeof Package==="undefined")Package={};Package["angular-meteor-auth"]={}})();